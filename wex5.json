{
  "id": "wex5",
  "cmd": "/usr/local/startup.sh",
  "mem": 512,
  "cpus": 0.1,
  "instances": 1,
  "container": {
    "type": "DOCKER",
    "docker": {
      "image": "registry.super.com/justep/wex5:3.3",
      "network": "BRIDGE",
      "portMappings": [
	    {
          "containerPort": 8080,
          "hostPort": 0,
          "protocol": "tcp"
        }
	  ],
      "forcePullImage": true
    },
    "volumes": []
  },
  "env": {
    "SERVICE_NAME": "wex5",
    "SERVICE_TAGS": "haproxy,http,route_domain,weight=50",
    "SERVICE_CHECK_HTTP": "/status"
  },
  "uris": [
    "http://jenkins.service.consul/dist/docker.tar.gz",
    "http://jenkins.service.consul/dist/bex5/doc.tar.gz",
    "http://jenkins.service.consul/dist/bex5/sql.tar.gz",
    "http://jenkins.service.consul/dist/bex5/model.tar.gz"
  ],
  "healthChecks": [
    {
      "portIndex": 0,
      "protocol": "TCP",
      "gracePeriodSeconds": 30,
      "intervalSeconds": 10,
      "timeoutSeconds": 30,
      "maxConsecutiveFailures": 3
    },
    {
      "path": "/",
      "portIndex": 0,
      "protocol": "HTTP",
      "gracePeriodSeconds": 30,
      "intervalSeconds": 10,
      "timeoutSeconds": 30,
      "maxConsecutiveFailures": 3
    }
  ],
  "upgradeStrategy": {
    "minimumHealthCapacity": 0.0,
    "maximumOverCapacity": 0.0
  }
}